# Контекстное меню инвентаря

## Описание
Реализована система контекстного меню для управления предметами в инвентаре с поддержкой разных платформ.

## Функциональность

### Платформы и способы вызова:
- **macOS**: Двойной клик двумя пальцами на тачпаде
- **Windows**: Правый клик мыши
- **Мобильные устройства**: Долгое нажатие (500ms)

### Действия в меню:
- **Применить**: Для расходников (зелья, свитки)
- **Снять**: Для экипированных предметов
- **Удалить**: Удаление предмета с подтверждением

### Способы удаления предметов:
1. **Контекстное меню**: Правый клик / Двойной тап двумя пальцами / Долгое нажатие
2. **Drag & Drop**: Перетащить предмет за пределы инвентаря

### Подтверждение удаления:
При любом способе удаления появляется popup с иконкой корзины и кнопками "Удалить" и "Отмена". Без подтверждения пользователя ничего не удаляется.

## Файлы

### Новые файлы:
- `js/ui/ContextMenuManager.js` - Основной класс управления контекстным меню
- `test_context_menu.html` - Тестовый файл для проверки контекстного меню
- `test_inventory_drag_drop.html` - Тестовый файл для проверки drag & drop удаления

### Измененные файлы:
- `js/ui/InventoryManager.js` - Интеграция контекстного меню, удаление старых кнопок
- `js/main.js` - Инициализация ContextMenuManager
- `style.css` - CSS стили для контекстного меню

## Тестирование

1. Запустите HTTP сервер: `python3 -m http.server 8000`
2. Откройте `test_context_menu.html` в браузере
3. Протестируйте контекстное меню на разных платформах

## Особенности реализации

- **Адаптивное позиционирование**: Меню автоматически корректирует позицию, чтобы не выходить за пределы экрана
- **Плавная анимация**: Анимация появления с эффектом масштабирования
- **Темная тема**: Соответствует общему дизайну игры
- **Безопасность**: Предотвращение стандартного контекстного меню браузера
- **Универсальность**: Работает на всех платформах с соответствующими жестами
- **Drag & Drop удаление**: Визуальная индикация зоны удаления при перетаскивании за пределы инвентаря
- **Двойная защита**: Все удаления требуют подтверждения через popup 