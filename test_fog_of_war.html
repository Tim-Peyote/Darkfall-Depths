<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã - Darkfall Depths</title>
    <style>
        body {
            background: #111;
            color: #fff;
            font-family: Arial, sans-serif;
            padding: 20px;
            margin: 0;
        }
        .test-info {
            background: #222;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success { background: #2d5a2d; }
        .error { background: #5a2d2d; }
        .info { background: #2d2d5a; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã</h1>
    
    <div class="test-info">
        <h2>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</h2>
        <div id="configStatus" class="status info">–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é...</div>
        <div id="fogStatus" class="status info">–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏—Å—Ç–µ–º—É —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã...</div>
    </div>
    
    <div class="test-info">
        <h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h2>
        <ol>
            <li>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)</li>
            <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ <a href="http://localhost:8000" style="color: #4ecdc4;">http://localhost:8000</a></li>
            <li>–ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—É–º–∞–Ω –≤–æ–π–Ω—ã</li>
            <li>–í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–≥—Ä—É–∑–∫–µ —É–ª—É—á—à–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</li>
        </ol>
    </div>
    
    <div class="test-info">
        <h2>–û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è</h2>
        <ul>
            <li>‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤</li>
            <li>‚úÖ –ü–ª–∞–≤–Ω—ã–µ –∫—Ä–∞—è –±–µ–∑ –æ—Å—Ç—Ä—ã—Ö —É–≥–ª–æ–≤</li>
            <li>‚úÖ –ë–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ</li>
            <li>‚úÖ –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã</li>
        </ul>
    </div>

    <script type="module">
        // –¢–µ—Å—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        try {
            const { getFogConfig, getFogResolution, getPlayerVisibilityRadius } = await import('./js/config/fogOfWarConfig.js');
            
            const config = getFogConfig();
            const resolution = getFogResolution();
            const radius = getPlayerVisibilityRadius();
            
            document.getElementById('configStatus').innerHTML = `
                <div class="success">
                    ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!<br>
                    üìä –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: ${resolution}x${resolution}<br>
                    üéØ –†–∞–¥–∏—É—Å –≤–∏–¥–∏–º–æ—Å—Ç–∏: ${radius}<br>
                    ‚ú® –ü—Ä–æ—Ö–æ–¥—ã —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è: ${config.SMOOTHING.PASSES}<br>
                    üí™ –°–∏–ª–∞ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è: ${config.SMOOTHING.STRENGTH}
                </div>
            `;
            
            console.log('üîß –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã:', config);
            
        } catch (error) {
            document.getElementById('configStatus').innerHTML = `
                <div class="error">
                    ‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: ${error.message}
                </div>
            `;
            console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:', error);
        }
        
        // –¢–µ—Å—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Å–∏—Å—Ç–µ–º—ã —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã
        try {
            const { WebGLFogOfWar } = await import('./js/map/WebGLFogOfWar.js');
            
            document.getElementById('fogStatus').innerHTML = `
                <div class="success">
                    ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!<br>
                    üéÆ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –≤ –∏–≥—Ä–µ
                </div>
            `;
            
            console.log('üéÆ –°–∏—Å—Ç–µ–º–∞ —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é');
            
        } catch (error) {
            document.getElementById('fogStatus').innerHTML = `
                <div class="error">
                    ‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã: ${error.message}
                </div>
            `;
            console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã —Ç—É–º–∞–Ω–∞ –≤–æ–π–Ω—ã:', error);
        }
    </script>
</body>
</html>
